<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar conta | github.com/andersonleandrog</title>
    <link rel="icon" href="img/icon.png" type="image/png" sizes="32x32">

    <!--CSS-->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/media.css">

    <!--JS & jQuery-->
    <script src="js/script.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    
    <div id="container">
        <div class="banner">
            <div class="checkpoint-overlay">CHECKPOINT</div>
            <img src="img/login.png" alt="imagem-login">
            <p style="color: #fff;">
                Seja bem vindo, acesse e aproveite todo o conteúdo,
                <br>somos uma equipe de profissionais empenhados em
                <br>trazer o melhor conteúdo direcionado a você usuário. 
            </p>
        </div>

        <div class="box-login">
            <h1>Junte-se a nós,<br>Crie hoje a sua conta!</h1>

            <!-- FORMULÁRIO REAL -->
            <form action="/users/cadastro" method="POST" class="box-account" id="formCadastro">

                <h2>Informe seus dados</h2>

                <input type="text" name="Nick" id="username" placeholder="Apelido" required>

                <input type="email" name="email" id="email" placeholder="E-mail" required>
                <input type="email" id="cmail" placeholder="Confirmar o e-mail" required>

                <input type="password" name="senha" id="password" placeholder="Senha" required>
                <input type="password" id="cpassword" placeholder="Confirmar a senha" required>

                <div class="check">
                    <input type="checkbox" id="termo" style="width: 13px; height: 13px;" required>
                    <label for="termo" style="color: #3d3d3d;">Li e aceito os termos</label>
                </div>

                <button type="submit">Criar conta</button>
            </form>

        </div>
    </div>

    <a href="index.html">
        <div id="bubble">
            <img src="img/user.png" alt="icone-usuário" title="fazer-login">
        </div>
    </a>

    <!-- VALIDAÇÃO DO FORMULÁRIO -->
    <script>
        $('#termo').click(() => {
            const div = $('<div>').attr('style',`
                position: absolute;
                width: 65%;
                height: 420px;
                border-radius: 10px;
                background: #fff; 

                color: #3d3d3d;

                -webkit-box-shadow: 0px 0px 6px -1px #000000; 
                box-shadow: 0px 0px 6px -1px #000000;

                display: flex;
                flex-direction: column;
                justify-content: space-evenly;
                align-items: center;
            `)

            $(div).addClass('termo')

            $(div).append(`Eu entendo e aceitos os termos impostos pela plataforma...`)

            $(div).append(
                $('<button>Ok</button>').click(() => {
                    div.hide()
                })
            )
            
            $('body').append(div)
        })
        document.getElementById("formCadastro").addEventListener("submit", function(e) {
            
            const email = document.getElementById("email").value;
            const cemail = document.getElementById("cmail").value;

            const senha = document.getElementById("password").value;
            const csenha = document.getElementById("cpassword").value;

            // Verifica email igual
            if (email !== cemail) {
                e.preventDefault();
                alert("Os emails não coincidem!");
                return;
            }

            // Verifica senha igual
            if (senha !== csenha) {
                e.preventDefault();
                alert("As senhas não coincidem!");
                return;
            }

            // Senha mínima
            if (senha.length < 6) {
                e.preventDefault();
                alert("A senha deve conter pelo menos 6 caracteres!");
                return;
            }
        });
    </script>

</body>
</html>